!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){var n=this;this.model=t,this.property=e,this.value=t[e],this.elementBindings=[],this.watchers=[],this.getter=function(){return n.value},this.setter=function(t){var e=n.value;n.value=t;for(var r=0;r<n.elementBindings.length;r++){var i=n.elementBindings[r];i.element[i.attribute]=t}for(var o=0;o<n.watchers.length;o++)n.watchers[o](e,n.value)},this.bind=function(t,e,r){n.elementBindings.push({element:t,attribute:e,attribute:e}),r&&t.addEventListener(r,function(){n.setter(t[e])}),t[e]=n.value},this.watch=function(t){n.watchers.push(t)},Object.defineProperty(t,e,{get:this.getter,set:this.setter}),t[e]=this.value}function i(t,e){var n=this;this.model=t,this.property=e,this.originalObject=t[e],this.proxyObject,this.watchers=[],this.individualGetter=function(t,e){return t[e]},this.individualSetter=function(t,e,r){var i=Array.isArray(t)?[]:{};Object.assign(i,t),t[e]=r;for(var o=0;o<n.watchers.length;o++)n.watchers[o](i,t);return!0},this.getter=function(){return n.proxyObject},this.setter=function(t){if(!Array.isArray(t))throw new Error("Cannot assign non-Array value to Array property");return n.proxyObject.length=0,n.proxyObject.push.apply(n.proxyObject,t),!0},this.bind=function(t,e,r){console.warn("Cannot bind to object values directly. Use watchers instead.","\n(Tried to bind\t",t,"\n\t\t\tto\t",n.proxyObject,")")},this.watch=function(t){n.watchers.push(t)},this.proxyObject=new Proxy(this.originalObject,{get:n.individualGetter,set:n.individualSetter}),this.model[this.property]=this.proxyObject,Object.defineProperty(this.model,this.property,{get:this.getter,set:this.setter})}function o(t,e){if(void 0===t[e])throw new ReferenceError("Cannot bind to unknown property "+e);if("object"!=typeof t[e])return new r(t,e);if(Array.isArray(t[e]))return new i(t,e);throw new Error("Cannot bind to objects")}n.r(e);var s={bind:"ps-bind",bindAttribute:"ps-bind-attribute",bindEvent:"ps-bind-event",if:"ps-if",each:"ps-each",eachValueTarget:"ps-each-value-target"},a=function(t){return function(e,n){t.style.display=n?"":"none"}},l=s,u=function(t,e){return function(n,r){for(;t.firstChild;)t.removeChild(t.firstChild);for(var i=0;i<r.length;i++){var o=e.cloneNode(!0),s=o.querySelectorAll("*["+l.eachValueTarget+"]");if(0===s.length)o.textContent=r[i];else{s.length>1&&console.warn("Found more than 1 value targets in iterated element",e,"Using the first one");var a=s[0],u=a.getAttribute(l.eachValueTarget)||"textContent";a.setAttribute(u,r[i])}t.appendChild(o)}}},h=s;window.Prosecco=function(t,e){var n=this;this.rootElement=t,this.model=e,this.boundElements=t.querySelectorAll("*["+h.bind+"]"),this.conditionalElements=t.querySelectorAll("*["+h.if+"]"),this.iteratedElements=t.querySelectorAll("*["+h.each+"]"),this.bindings=[],this._getBindingFor=function(t){if(!n.model.hasOwnProperty(t))return null;var e=n.bindings.filter(function(e){return e.model.hasOwnProperty(t)&&e.property==t});if(0===e.length)return null;if(e.length>1)throw new Error("Found duplicate bindings for property "+t);return 1===e.length?e[0]:void 0},this.watch=function(t,e){try{var r=n._getBindingFor(t);r||(r=new o(n.model,t),n.bindings.push(r)),r.watch(e)}catch(t){console.error(t)}};for(var r=this.rootElement.parentNode;["HEAD","BODY","HTML"].indexOf(r.tagName)<0;){if(console.log(r),r.hasAttribute("ps-app-root"))throw new SyntaxError("App nesting is not allowed");r=r.parentNode}this.rootElement.setAttribute("ps-app-root",!0);for(var i=0;i<this.boundElements.length;i++){var s=(v=this.boundElements[i]).getAttribute(h.bind),l=v.getAttribute(h.bindAttribute)||"textContent",c=v.getAttribute(h.bindEvent),d=this._getBindingFor(s);if(d)d.bind(v,l,c);else{var f=new o(this.model,s);f.bind(v,l,c),this.bindings.push(f)}}for(var p=0;p<this.conditionalElements.length;p++){var b=(v=this.conditionalElements[p]).getAttribute(h.if);this.watch(b,a(v)),a(v)(null,this.model[b])}for(var g=0;g<this.iteratedElements.length;g++){var v,y=(v=this.iteratedElements[g]).parentNode,m=document.createElement("div"),w=v.getAttribute(h.each);m.setAttribute("ps-each-container",!0),y.insertBefore(m,v),y.removeChild(v),this.watch(w,u(m,v)),u(m,v)(null,this.model[w])}}}]);